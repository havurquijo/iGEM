<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1"
  >
  <link
    rel="shortcut icon"
    href="https://static.igem.wiki/common/icons/favicons/igem-2022.svg"
  />
  <link
    rel="license"
    href="https://creativecommons.org/licenses/by/4.0/"
  />
  <link
    href="{{ url_for('static', filename = 'bootstrap.min.css') }}"
    rel="stylesheet"
  >
  <link
    href="https://fonts.cdnfonts.com/css/sugar-pie"
    rel="stylesheet"
  >
  <link
    href="{{ url_for('static', filename = 'style.css') }}"
    rel="stylesheet"
  >
  <title>{% block title %}{% endblock %} | UNICAMP-Brazil - iGEM 2025</title>
  <style>
    .loading-container {position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,0.9);display:flex;align-items:center;justify-content:center;z-index:9999;}
    body.loading-active {overflow:hidden !important;touch-action:none !important;}
  .loading-gif {width:300px;height:300px;}
  </style>
</head>

<body
  data-bs-spy="scroll"
  data-bs-target="#page-navbar"
  data-bs-offset="120"
  tabindex="0"
>
  <!-- Inline loading overlay (initially hidden) -->
  <div id="loading-screen" class="loading-container" style="display:none;">
  <img id="loading-image" src="{{ url_for('static', filename='loading.apng') }}" alt="Loading..." class="loading-gif" width="300" height="300">
  </div>
  <script>
    (function(){
      const img = document.getElementById('loading-image');
      if(!img) return;
      img.addEventListener('error', function handler(){
        img.removeEventListener('error', handler);
  img.src = "{{ url_for('static', filename='loading.gif') }}";
      });
    })();
  </script>

  {% include 'components/menu.html' %}

  <!-- Header -->
  {% if self.title() %}

  <header class="bg-hero py-5 mb-5">
    <div class="container h-100">
      <div class="row h-100 align-items-center">
        <div class="col-lg-12">
          <h1 class="display-4 text-white mt-5 mb-2">{{ self.title() }}</h1>
          <p class="lead mb-5 text-white-50">{% block lead %}{% endblock %}</p>
        </div>
      </div>
    </div>
  </header>
  {% else %}
  {% block header_image %}
  <img class="entire-width-image"
       src="{% block img_source %}{% endblock %}"
       alt="{% block img_alt %}{% endblock %}"
       style="padding-top: 0px">
  {% endblock %}

  {% endif %}

  <div class="container">
    <div class="row">
      {% if request.endpoint != 'home' %}
      <div class="col-lg-3 d-none d-lg-block">
        {% include 'components/navbar.html' %}
      </div>
      {% endif %}
      <div
        class="{% if request.endpoint == 'home' %}col-lg-12{% else %}col-lg-9{% endif %}"
        id="main-content"
      >
        {% block page_content %}{% endblock %}
      </div>
    </div>
  </div>

  {% include 'components/footer.html' %}

  <script src="{{ url_for('static', filename = 'bootstrap.bundle.min.js') }}"></script>
  <script src="{{ url_for('static', filename = 'scripts.js') }}"></script>
</body>

</html>
